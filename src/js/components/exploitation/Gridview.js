import React, { Component } from 'react';
import { connect } from 'react-redux';
import { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';

class Gridview extends Component {
    constructor(props) {
        super(props);

        this.onRowClick = this.onRowClick.bind(this);
    }

    csvFormatter(cell, row) {
        return `${row.id}: ${cell}`;
    }
    // обработчик клика на строку
    onRowClick(row) {
        console.log(row);
    }

    render() {

        var options = {
            sizePerPage: 10,
            onRowClick: this.onRowClick
        };
        // привязать к store        
        const status = {
            0: 'good',
            1: 'Bad',
            2: 'unknown'
        };
        const wg = {
            0: 'good',
            1: 'Bad',
            2: 'unknown'
        };
        return (
            <div className='gridExpl'>
                <BootstrapTable className='col-lg-12' hover exportCSV={true} data={this.props.expl.expl} pagination={true} options={options}>
                    <TableHeaderColumn dataField='sb_id' isKey={true} filter={{ type: 'TextFilter', defaultValue: '' }} >ID Сбербанка</TableHeaderColumn>

                    <TableHeaderColumn dataField='status' filter={{ type: 'SelectFilter', options: status }}>Статус</TableHeaderColumn>

                    <TableHeaderColumn dataField='descr' filter={{ type: 'TextFilter', defaultValue: '' }}>Тема</TableHeaderColumn>
                    <TableHeaderColumn dataField='full_descr' filter={{ type: 'SelectFilter', options: wg }}>Рабочая группа</TableHeaderColumn>
                    <TableHeaderColumn dataField='closure_code' filter={{ type: 'TextFilter', defaultValue: '' }}>Исполнитель</TableHeaderColumn>
                    <TableHeaderColumn dataField='date_created' filter={{ type: 'TextFilter', defaultValue: '' }} >Дата создания</TableHeaderColumn>
                    <TableHeaderColumn dataField='date_done' filter={{ type: 'TextFilter', defaultValue: '' }}>Контрольный срок</TableHeaderColumn>
                </BootstrapTable>
            </div>
        )
    }
}

export default connect(
    state => ({
        expl: state
    }),
)(Gridview);